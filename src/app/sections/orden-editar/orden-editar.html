<section class="page-wrap min-h-screen bg-[#0D1117] p-8 flex flex-col items-center">
  <h2 class="text-3xl font-bold mb-8 text-white text-center">
    Editar Orden
  </h2>

  @if (ordenSeleccionada) {
    <form class="bg-gray-900/90 rounded-lg shadow-lg border border-white/10 p-6 w-full max-w-[800px] mx-auto grid grid-cols-1 sm:grid-cols-2 gap-4"
          (ngSubmit)="guardarCambios()" #form="ngForm">

      <!-- Cliente -->
      <h3 class="text-lg font-semibold sm:col-span-2 text-cyan-400">Cliente</h3>
      <label>Nombre:
        <input [(ngModel)]="ordenSeleccionada.cliente.nombre" name="clienteNombre"
               class="w-full bg-gray-800 text-white rounded-md p-2" required />
      </label>
      <label>Teléfono:
        <input [(ngModel)]="ordenSeleccionada.cliente.telefono" name="clienteTelefono"
               class="w-full bg-gray-800 text-white rounded-md p-2" required />
      </label>
      <label class="sm:col-span-2">Dirección:
        <input [(ngModel)]="ordenSeleccionada.cliente.direccion" name="clienteDireccion"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>

      <!-- Dispositivo -->
      <h3 class="text-lg font-semibold sm:col-span-2 text-cyan-400">Dispositivo</h3>
      <label>Tipo:
        <input [(ngModel)]="ordenSeleccionada.dispositivo.tipo" name="dispositivoTipo"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Marca:
        <input [(ngModel)]="ordenSeleccionada.dispositivo.marca" name="dispositivoMarca"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Modelo:
        <input [(ngModel)]="ordenSeleccionada.dispositivo.modelo" name="dispositivoModelo"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Accesorios:
        <input [(ngModel)]="ordenSeleccionada.dispositivo.accesorios" name="dispositivoAccesorios"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label class="sm:col-span-2">Condiciones:
        <input [(ngModel)]="ordenSeleccionada.dispositivo.condiciones" name="dispositivoCondiciones"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label class="sm:col-span-2">Descripción adicional:
        <textarea [(ngModel)]="ordenSeleccionada.dispositivo.descripcionAdicional" name="dispositivoDescripcion"
                  class="w-full bg-gray-800 text-white rounded-md p-2"></textarea>
      </label>

      <!-- Información -->
      <h3 class="text-lg font-semibold sm:col-span-2 text-cyan-400">Información</h3>
      <label>Falla:
        <input [(ngModel)]="ordenSeleccionada.informacion.falla" name="informacionFalla"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Diagnóstico:
        <input [(ngModel)]="ordenSeleccionada.informacion.diagnostico" name="informacionDiagnostico"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Estado:
        <select [(ngModel)]="ordenSeleccionada.informacion.estado" name="informacionEstado"
                class="w-full bg-gray-800 text-white rounded-md p-2">
          <option value="Recibido">Recibido</option>
          <option value="En proceso">En proceso</option>
          <option value="Finalizado">Finalizado</option>
        </select>
      </label>
      <label>Prioridad:
        <select [(ngModel)]="ordenSeleccionada.informacion.prioridad" name="informacionPrioridad"
                class="w-full bg-gray-800 text-white rounded-md p-2">
          <option value="Alta">Alta</option>
          <option value="Media">Media</option>
          <option value="Baja">Baja</option>
        </select>
      </label>
      <label>Fecha ingreso:
        <input type="date" [(ngModel)]="ordenSeleccionada.informacion.fechaIngreso" name="informacionIngreso"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Fecha entrega:
        <input type="date" [(ngModel)]="ordenSeleccionada.informacion.fechaEntrega" name="informacionEntrega"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Fecha finalización:
        <input type="date" [(ngModel)]="ordenSeleccionada.informacion.fechaFinalizacion" name="informacionFinalizacion"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>

      <!-- Costos -->
      <h3 class="text-lg font-semibold sm:col-span-2 text-cyan-400">Costos</h3>
      <label>Presupuesto:
        <input [(ngModel)]="ordenSeleccionada.costos.presupuesto" name="costosPresupuesto"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Costo final:
        <input type="number" [(ngModel)]="ordenSeleccionada.costos.costoFinal" name="costosFinal"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Forma de pago:
        <input [(ngModel)]="ordenSeleccionada.costos.formaPago" name="costosFormaPago"
               class="w-full bg-gray-800 text-white rounded-md p-2" />
      </label>
      <label>Autorización:
        <input type="checkbox" [(ngModel)]="ordenSeleccionada.costos.autorizacion" name="costosAutorizacion"
               class="w-5 h-5" />
      </label>

      <!-- Seguimiento -->
      <h3 class="text-lg font-semibold sm:col-span-2 text-cyan-400">Seguimiento</h3>
      <label class="sm:col-span-2">Notas internas:
        <textarea [(ngModel)]="ordenSeleccionada.seguimiento.notasInternas" name="seguimientoNotas"
                  class="w-full bg-gray-800 text-white rounded-md p-2"></textarea>
      </label>
      <label class="sm:col-span-2">Historial:
        <textarea [(ngModel)]="ordenSeleccionada.seguimiento.historial" name="seguimientoHistorial"
                  class="w-full bg-gray-800 text-white rounded-md p-2"></textarea>
      </label>

      <!-- Botón guardar -->
      <div class="sm:col-span-2 flex justify-end mt-4">
        <button type="submit"
                class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
          Guardar cambios
        </button>
      </div>
    </form>
  }
</section>